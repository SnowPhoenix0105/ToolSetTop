{"apifoxProject":"1.0.0","info":{"name":"UserCenter","description":"","mockRule":{"rules":[],"enableSystemRule":true}},"responseCollection":[],"apiCollection":[{"name":"默认分类","items":[{"name":"创建临时用户","api":{"id":"5734533","method":"post","path":"/temp/create","parameters":[],"commonParameters":{"query":[],"body":[],"cookie":[],"header":[]},"responses":[{"id":"5320319","name":"成功","code":200,"jsonSchema":{"type":"object","properties":{"refreshToken":{"type":"string","title":"刷新凭证","description":"用户的登录凭证，可用于获取新的访问凭证","mock":{"mock":"@regexp(/^[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+$/)"},"minLength":20},"refreshExpireString":{"type":"string","title":"刷新凭证过期时间字符串","description":"刷新凭证失效的时间，是一个时间点，便于阅读，用于调试","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"}},"refreshExpire":{"type":"integer","mock":{"mock":"@timestamp"},"title":"刷新凭证失效时间戳","description":"刷新凭证失效的时间，是一个时间点"},"accessToken":{"type":"string","title":"访问凭证","description":"用户登录的凭证，用于访问各个服务","mock":{"mock":"@regexp(/[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+/)"},"minLength":20},"accessExpireString":{"type":"string","title":"访问凭证过期时间字符串","description":"访问凭证失效的时间，是一个时间点，用于调试","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"}},"accessExpire":{"type":"integer","title":"访问凭证过期时间戳","description":"访问凭证失效的时间，是一个时间点","mock":{"mock":"@timestamp"}},"auth":{"type":"string","title":"用户的权限等级","description":"auth表示管理员，user表示用户，passerby表示游客，权限一次降低","mock":{"mock":"@regexp(/(admin)|(user)|(passerby)/)"}}},"required":["refreshToken","auth","accessToken","refreshExpire","accessExpire"]}}],"responseExamples":[{"name":"成功示例","data":"{\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTQ1MTQiLCJleHAiOjE2NDYyOTkwMjJ9.rlKXrRF2w5IgzSaE7nECyULfPYs8Mi5yIVJ2wxvQp2I\",\n    \"refreshExpireString\": \"2022-03-03 17:17:02\",\n    \"refreshExpire\": 1646299022,\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTQ1MTQiLCJleHAiOjE2NDYyODkwMjIsImF1dGgiOjB9.PWvJ8kyqOv2GNk0Vgfmb3A7xg2Q7bzyOnWSliktJLnw\",\n    \"accessExpireString\": \"2022-03-03 14:30:22\",\n    \"accessExpire\": 1646289022,\n    \"auth\": \"passerby\"\n}","responseId":5320319,"ordering":1}],"requestBody":{"type":"none","parameters":[],"jsonSchema":{"type":"object","properties":{}}},"description":"创建一个临时用户，临时用户的有效期和refreshToken的有效期一致，可以使用更新refreshToken的接口延长有效期。","tags":[],"status":-2,"ordering":10,"cases":[],"mocks":[]}},{"name":"更新refreshToken","api":{"id":"5760869","method":"post","path":"/token/refresh","parameters":{"header":[]},"commonParameters":{"query":[],"body":[],"cookie":[],"header":[]},"responses":[{"id":"5386125","name":"成功","code":200,"jsonSchema":{"type":"object","properties":{"refreshToken":{"type":"string","title":"刷新凭证","description":"用户的登录凭证，可用于获取新的访问凭证","mock":{"mock":"@regexp(/^[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+$/)"},"minLength":20},"refreshExpireString":{"type":"string","title":"刷新凭证过期时间","description":"刷新凭证失效的时间，是一个时间点，便于阅读，用于调试","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"}},"refreshExpire":{"type":"integer","mock":{"mock":"@timestamp"},"title":"刷新凭证过期时间","description":"刷新凭证失效的时间，是一个时间点"},"auth":{"type":"string","title":"用户的权限等级","description":"auth表示管理员，user表示用户，passerby表示游客，权限一次降低","mock":{"mock":"@regexp(/(admin)|(user)|(passerby)/)"}}},"required":["refreshToken","auth","refreshExpire"]}},{"id":"5386126","name":"没有权限","code":401,"jsonSchema":{"type":"object","properties":{}}}],"responseExamples":[{"name":"成功示例","data":"{\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTQ1MTQiLCJleHAiOjE1MTYyMzkwMjJ9.qZwekidfW8iNH9V_WHBg8HmwnSsJD7jAtw8KqGeHwvk\",\n    \"auth\": \"passerby\",\n    \"refreshExpireString\": \"2022-03-03 17:17:02\",\n    \"refreshExpire\": 1646299022\n}","responseId":5386125,"ordering":1}],"requestBody":{"type":"application/json","parameters":[],"jsonSchema":{"type":"object","properties":{"refreshToken":{"type":"string","mock":{"mock":"@regexp(/[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+/)"},"minLength":20,"title":"旧刷新凭证","description":"旧有的刷新凭证，必须保证未过期"}},"required":["refreshToken"]},"sampleValue":"{\r\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTQ1MTQiLCJleHAiOjE1MTYyMzkwMjJ9.qZwekidfW8iNH9V_WHBg8HmwnSsJD7jAtw8KqGeHwvk\"\r\n}"},"description":"使用旧有的、未超时的refreshToken换取新的refreshToken，如果是临时账户，还会延长账户的有效期。调用此接口后，旧的refreshToken仍旧有效，直至token过期。","tags":[],"status":-2,"ordering":20,"cases":[],"mocks":[]}},{"name":"获取accessToken","api":{"id":"5760883","method":"post","path":"/token/access","parameters":[],"commonParameters":{"query":[],"body":[],"cookie":[],"header":[]},"responses":[{"id":"5386140","name":"成功","code":200,"jsonSchema":{"type":"object","properties":{"accessToken":{"type":"string","title":"访问凭证","description":"用户登录的凭证，用于访问各个服务","mock":{"mock":"@regexp(/[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+/)"},"minLength":20},"accessExpireString":{"type":"string","title":"访问凭证过期时间字符串","description":"访问凭证失效的时间，是一个时间点，用于调试","mock":{"mock":"@datetime('yyyy-MM-dd HH:mm:ss')"}},"accessExpire":{"type":"integer","title":"访问凭证过期时间戳","description":"访问凭证失效的时间，是一个时间点","mock":{"mock":"@timestamp"}},"auth":{"type":"string","title":"用户的权限等级","description":"auth表示管理员，user表示用户，passerby表示游客，权限一次降低","mock":{"mock":"@regexp(/(admin)|(user)|(passerby)/)"}}},"required":["auth","accessToken","accessExpire"]}},{"id":"5386141","name":"没有权限","code":401,"jsonSchema":{"type":"object","properties":{}}}],"responseExamples":[{"name":"成功示例","data":"{\n    \"accessToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTQ1MTQiLCJleHAiOjE2NDYyODkwMjIsImF1dGgiOjB9.PWvJ8kyqOv2GNk0Vgfmb3A7xg2Q7bzyOnWSliktJLnw\",\n    \"accessExpireString\": \"2022-03-03 14:30:22\",\n    \"accessExpire\": 1646289022,\n    \"auth\": \"passerby\"\n}","responseId":5386140,"ordering":1}],"requestBody":{"type":"application/json","parameters":[],"jsonSchema":{"type":"object","properties":{"refreshToken":{"type":"string","mock":{"mock":"@regexp(/[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+\\.[a-zA-Z0-9\\_\\-]+/)"},"minLength":20,"title":"刷新凭证","description":"刷新凭证，必须保证未过期"}},"required":["refreshToken"]},"sampleValue":"{\r\n    \"refreshToken\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1aWQiOiIxMTQ1MTQiLCJleHAiOjE1MTYyMzkwMjJ9.qZwekidfW8iNH9V_WHBg8HmwnSsJD7jAtw8KqGeHwvk\"\r\n}"},"description":"使用refreshToken获取accessToken。","tags":[],"status":-2,"ordering":30,"cases":[],"mocks":[]}}]}],"socketCollection":[],"schemaCollection":[{"name":"默认分类","items":[]}],"apiTestCaseCollection":[{"name":"默认分类","children":[],"items":[]}],"apiTestSuiteCollection":[],"environments":[{"parameters":{},"variables":[],"name":"测试环境","baseUrl":"http://127.0.0.1","ordering":0,"id":"558117"},{"parameters":{},"variables":[],"name":"正式环境","baseUrl":"http://127.0.0.1","ordering":0,"id":"558118"},{"parameters":{},"variables":[],"name":"Mock 服务","baseUrl":"http://127.0.0.1:4523/mock/417971","ordering":0,"id":"558119"}],"commonScripts":[],"databaseConnections":[],"globalVariables":[],"commonParameters":null}